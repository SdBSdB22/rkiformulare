<html>
  <head>
	  <title>Santiagos Webseite</title>
    <link rel="stylesheet" href="pico.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
    <script>
      mocha.setup('bdd'); // minimal setup
    </script>
    <!-- add chai -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
    <script>
      // chai has a lot of stuff, let's make assert global
      let assert = chai.assert;
    </script>
    
  </head>
  <body class="container">
    <h1>Test</h1>
    <select id="selectToFill"></select>
    <script>
      function fillSelectionBox(selectBoxId, values, selectedValue){
      let selectedIndex;
      if (!values.includes(selectedValue)){
        console.error();
        return null;
      }
      if (document.getElementById(selectBoxId) == null){
        console.error();
        return null;
      }
        for(let i = 0; i < values.length; i++){
          document.getElementById(selectBoxId).innerHTML = document.getElementById(selectBoxId).innerHTML +("<option " + "value='" +values[i] +"' >" + values[i] + "</option> ");
          document.getElementById(selectBoxId).selectedIndex = selectedIndex;
          if (values[i] == selectedValue){
            selectedIndex = i;
            document.getElementById(selectBoxId).selectedIndex = selectedIndex;
          }
          
        }
        
      }
    </script>

    <script>
      describe("fillSelectionBox", function(){
        it("has a selection box to fill", function(){
          assert.notEqual(document.getElementById("selectToFill"), null)
        });
        it("fills the selectionbox and selects the correct value", function(){
          fillSelectionBox("selectToFill", ['element1', 'element2', 'element3'], 'element2')
          assert.equal(document.getElementById("selectToFill").innerHTML,'<option value="element1">element1</option> <option value="element2">element2</option> <option value="element3">element3</option> ')
        });
        it("returns null if the selected value is not in values", function(){
          assert.equal(fillSelectionBox("selectToFill", ['element1', 'element2', 'element3'], 'element4'), null)
        });
        it("returns null if the id does not correspond to a select element", function(){
          assert.equal(fillSelectionBox("selectTofill", ['element1', 'element2', 'element3'], 'element2'), null)
        });
      });
    </script>
  <div id="mocha"></div>
  <script>
    mocha.run();
  </script>
  </body>
</html>
